AOS.init({offset:60});const btn=document.querySelector(".menu__btn"),navLinks=document.querySelector(".nav-links"),navItem=document.querySelectorAll(".nav__item");btn.addEventListener("click",()=>{btn.classList.toggle("menu__btn-active"),navLinks.classList.toggle("nav-links-active"),document.body.classList.toggle("lock")});let swiper=new Swiper(".swiper-index",{slidesPerView:"auto",centeredSlides:!0,speed:450,autoplay:{delay:4e3},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0}});if(document.querySelector(".portfolio")){document.querySelectorAll(".swiper-portfolio").forEach(e=>{new Swiper(e,{spaceBetween:15,slidesPerView:"auto",centeredSlides:!0,speed:500,autoplay:{delay:4e3},lazy:{loadPrevNext:!0}})})}if(document.querySelector(".proj")){function sliderProjInit(e){new Swiper(e,{lazy:{loadPrevNext:!0},speed:500,autoplay:{delay:4e3,disableOnInteraction:!1},allowTouchMove:!1,initialSlide:0,thumbs:{swiper:{el:e.nextElementSibling,allowTouchMove:!1,watchOverflow:!0,lazy:{loadPrevNext:!0},slidesPerView:"auto"}}})}sliderProjInit(document.querySelector(".swiper-project"));function sliderMiniInit(e){new Swiper(e,{lazy:{loadPrevNext:!0},spaceBetween:5,slidesPerView:"auto",centerInsufficientSlides:!0,watchOverflow:!0,initialSlide:0})}sliderMiniInit(document.querySelector(".swiper__mini"));const e=document.documentElement.clientHeight;let t=0;function loadMore(t,o){const l=t.getBoundingClientRect().top+pageYOffset,r=t.offsetHeight;if(pageYOffset>l+r-.795*e){getContent(t,o.length)}}async function getContent(e,o){e.classList.add("_loading"),document.querySelector(".grajd")?(console.log("grajd"),moreSlide="moreSlideGrajdan.html"):document.querySelector(".grado")&&(console.log("grado"),moreSlide="moreSlideGrado.html");let l=await fetch(moreSlide,{method:"GET"});if(l.ok){let r=await l.text(),i=(new DOMParser).parseFromString(r,"text/html");console.log(o,"countProject до добавления");let n=i.querySelectorAll(".project");if(console.log(n,"htmlSlideProject"),!n[t])return;{console.log(t,"count который добавил до"),e.insertAdjacentElement("afterend",n[t]),++t;let l=document.querySelectorAll(".project");console.log(l,"countProject после добавления"),console.log(t,"count после который нужно будет проверить и добавить");sliderProjInit(document.querySelectorAll(".swiper-project")[o]);sliderMiniInit(document.querySelectorAll(".swiper__mini")[o]),AOS.init({offset:60}),e.classList.remove("_loading")}}}window.addEventListener("scroll",()=>{const e=document.querySelectorAll(".project"),t=e[e.length-1];t.classList.contains("_loading")||loadMore(t,e)})}if(document.querySelector(".form")){const e=document.querySelector(".form__item-btn"),t=document.querySelector(".success");e.addEventListener("click",()=>{t.classList.remove("success-active")});new JustValidate(".form").addField(".input-name",[{rule:"minLength",value:3,errorMessage:"Введите не менее 3 символов"},{rule:"maxLength",value:100,errorMessage:"Введите не более 100 символов"},{rule:"required",value:!0,errorMessage:"Введите ваше имя"}]).addField(".input-email",[{rule:"required",value:!0,errorMessage:"Введите ваш e-mail"},{rule:"email",value:!0,errorMessage:"Введите корректный Email"}]).onSuccess(e=>{console.log("Validation passes and form submitted",e),t.classList.remove("success-active"),t.classList.add("success-active"),e.target.reset()})}