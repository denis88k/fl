AOS.init({offset:60});const btn=document.querySelector(".menu__btn"),navLinks=document.querySelector(".nav-links"),navItem=document.querySelectorAll(".nav__item");btn.addEventListener("click",()=>{btn.classList.toggle("menu__btn-active"),navLinks.classList.toggle("nav-links-active"),document.body.classList.toggle("lock")});let swiper=new Swiper(".swiper-index",{slidesPerView:"auto",centeredSlides:!0,spaceBetween:5,speed:450,autoplay:{delay:4e3},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0}});if(document.querySelector(".portfolio")){document.querySelectorAll(".swiper-portfolio").forEach(e=>{new Swiper(e,{spaceBetween:15,slidesPerView:"auto",centeredSlides:!0,speed:500,autoplay:{delay:4e3},lazy:{loadPrevNext:!0},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0}})})}if(document.querySelector(".proj")){function sliderProjInit(e){new Swiper(e,{lazy:{loadPrevNext:!0},speed:500,autoplay:{delay:4e3,disableOnInteraction:!1},allowTouchMove:!1,initialSlide:0,thumbs:{swiper:{el:e.nextElementSibling,allowTouchMove:!1,watchOverflow:!0,lazy:{loadPrevNext:!0},slidesPerView:"auto"}}})}sliderProjInit(document.querySelector(".swiper-project"));function sliderMiniInit(e){new Swiper(e,{lazy:{loadPrevNext:!0},spaceBetween:5,slidesPerView:"auto",centerInsufficientSlides:!0,watchOverflow:!0,initialSlide:0})}sliderMiniInit(document.querySelector(".swiper__mini"));const e=document.querySelectorAll(".project");function initSwiper(){let i=.8*window.innerHeight+window.scrollY;e.forEach((t,s,l)=>{let r=t.offsetTop+.6*t.offsetHeight,n=t.querySelector(".swiper-project"),o=t.querySelector(".swiper__mini");if(console.log(n),i>=r&&(n.classList.add("swiper-project-visible"),sliderProjInit(n),sliderMiniInit(o),o.classList.add("swiper__mini-visible")),i>=l[e.length-1].offsetTop+.7*l[e.length-1].offsetHeight){console.log("да");let i=l[e.length-1].querySelector(".swiper-project"),t=l[e.length-1].querySelector(".swiper__mini");i.classList.add("swiper-project-visible"),sliderProjInit(i),sliderMiniInit(t),t.classList.add("swiper__mini-visible"),l[e.length-1].classList.add("_loading")}})}e[0].querySelector(".swiper-project").classList.add("swiper-project-visible"),e[0].querySelector(".swiper__mini").classList.add("swiper__mini-visible"),window.addEventListener("scroll",()=>{e[e.length-1].classList.contains("_loading")||initSwiper()})}if(document.querySelector(".form")){const e=document.querySelector(".form__item-btn"),i=document.querySelector(".success");e.addEventListener("click",()=>{i.classList.remove("success-active")});new JustValidate(".form").addField(".input-name",[{rule:"minLength",value:3,errorMessage:"Введите не менее 3 символов"},{rule:"maxLength",value:100,errorMessage:"Введите не более 100 символов"},{rule:"required",value:!0,errorMessage:"Введите ваше имя"}]).addField(".input-email",[{rule:"required",value:!0,errorMessage:"Введите ваш e-mail"},{rule:"email",value:!0,errorMessage:"Введите корректный Email"}]).onSuccess(e=>{console.log("Validation passes and form submitted",e),i.classList.remove("success-active"),i.classList.add("success-active"),e.target.reset()})}
